general:
  build_dir: code-gen

machine:
  java:
    version: oraclejdk8

# only needed when referencing a snapshot of podio-java!
dependencies:
  pre:
    - git clone https://github.com/daniel-sc/podio-java.git podio-java
    - mvn -f podio-java clean install -Dmaven.test.skip=true

test:
  post:
    - mkdir -p $CIRCLE_TEST_REPORTS/junit/
    - find . -type f -regex ".*/target/surefire-reports/.*xml" -exec cp {} $CIRCLE_TEST_REPORTS/junit/ \;
